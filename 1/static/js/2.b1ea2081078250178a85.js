/*! ****ChenQing edit**** */
webpackJsonp([2],{UXPm:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("NVrd"),i=a("mj28"),n={name:"pinglun",data:function(){return{rating:[],isShowNotNullContent:!1,rateType:"-1",all_comment:0,best_comment:0,bad_comment:0,total:0,deliveryTime:0,rankRate:0,serviceScore:0,foodScore:0}},components:{"v-star":e.a,"v-pannel":i.a},computed:{dateTime:function(){var t=[];function s(t){return t<10?"0"+t:t}return this.rating.map(function(a,e){var i=new Date(a.rateTime),n=i.getFullYear(),c=i.getMonth()+1,o=i.getDay(),l=i.getHours(),r=i.getMinutes();t.push(n+"-"+s(c)+"-"+s(o)+" "+l+":"+r)}),t},ratings:function(){var t=0,s=0,a=0,e=[],i=[],n=[],c=[];return this.rating.map(function(o,l){switch(""!==o.text&&c.push(o),o.rateType){case 0:e.push(o),t++;break;case 1:i.push(o),s++;break;case 2:n.push(o),a++}}),"0"===this.rateType?[e,t,s,a]:"1"===this.rateType?[i,t,s,a]:"2"===this.rateType?[n,t,s,a]:this.isShowNotNullContent?[c,t,s,a]:[this.rating,t,s,a]}},methods:{isOrNoLike:function(t){var s=this.rating[t];s.islike?this.$set(s,"islike",!1):this.$set(s,"islike",!0)},ShowNotNullContent:function(){this.rateType=-1,this.isShowNotNullContent=!this.isShowNotNullContent},noShowNotNullContent:function(){this.isShowNotNullContent=!1},_all:function(){this.isShowNotNullContent=!1,this.rateType="0"},best:function(){this.isShowNotNullContent=!1,this.rateType="1"},_bad:function(){this.isShowNotNullContent=!1,this.rateType="2"}},mounted:function(){var t=this;this.$http.get("/ratings").then(function(s){200===s.status&&(t.rating=s.data)});var s=this.$store.state.sellers;this.total=s.score,this.deliveryTime=s.deliveryTime,this.rankRate=s.rankRate,this.serviceScore=s.serviceScore,this.foodScore=s.foodScore}},c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"pinglun"},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("p",{staticClass:"num"},[t._v(t._s(t.total))]),t._v(" "),a("p",{staticClass:"text"},[t._v("综合评分")]),t._v(" "),a("p",{staticClass:"smallText"},[t._v("高于周边商家"+t._s(t.rankRate)+"%")])]),t._v(" "),a("div",{staticClass:"right"},[a("p",[a("span",{staticClass:"text"},[t._v("服务态度")]),t._v(" "),a("v-star",{attrs:{size:36,score:t.serviceScore}}),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(t.serviceScore))])],1),t._v(" "),a("p",[a("span",{staticClass:"text"},[t._v("食物口感")]),t._v(" "),a("v-star",{attrs:{size:36,score:t.foodScore}}),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(t.foodScore))])],1),t._v(" "),a("p",[a("span",{staticClass:"text"},[t._v("送达时间")]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(t.deliveryTime)+"分钟")])])])]),t._v(" "),a("v-pannel",[a("div",{staticClass:"pinglun-header",attrs:{slot:"content"},slot:"content"},[a("span",{staticClass:"button all",on:{click:t._all}},[a("span",{staticClass:"text"},[t._v("全部")]),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(t.ratings[1]))])]),t._v(" "),a("span",{staticClass:"button best",on:{click:t.best}},[a("span",{staticClass:"text"},[t._v("推荐")]),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(t.ratings[2]))])]),t._v(" "),a("span",{staticClass:"button bad",on:{click:t._bad}},[a("span",{staticClass:"text"},[t._v("吐槽")]),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(t.ratings[3]))])])])]),t._v(" "),a("div",{staticClass:"onlyShow",on:{click:t.ShowNotNullContent}},[a("span",{staticClass:"check icon-check_circle",class:{active:t.isShowNotNullContent}}),t._v(" "),a("span",{staticClass:"text"},[t._v("只看有内容的评论")])]),t._v(" "),a("ul",{staticClass:"commentList"},t._l(t.ratings[0],function(s,e){return a("li",{key:e,staticClass:"commentListItem"},[a("div",{staticClass:"userInfo"},[a("img",{staticClass:"user-avatar",attrs:{src:s.avatar,alt:""}}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[a("p",{staticClass:"text"},[t._v(t._s(s.username))]),t._v(" "),a("div",{staticClass:"star"},[a("v-star",{staticClass:"starItem",attrs:{size:36,score:s.score}}),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(s.deliveryTime)+"分钟送达")])],1)]),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"dataTime"},[t._v(t._s(t.dateTime[e]))])])])]),t._v(" "),a("p",{staticClass:"comment"},[t._v(t._s(s.text))]),t._v(" "),a("div",{staticClass:"signIcon"},[a("span",{staticClass:"icon icon-thumb_down",class:{active:s.islike,"icon-thumb_up":s.islike},on:{click:function(s){return t.isOrNoLike(e)}}}),t._v(" "),t._l(s.recommend,function(s,e){return a("span",{key:e,staticClass:"sign"},[t._v(t._s(s))])})],2)])}),0)],1)},staticRenderFns:[]};var o=a("VU/8")(n,c,!1,function(t){a("l8Ja")},"data-v-ee4be382",null);s.default=o.exports},l8Ja:function(t,s){}});
//# sourceMappingURL=2.b1ea2081078250178a85.js.map